<div class="button-wrapper">

  @if (iconPosition === 'left') {
    <span class="v-icon v-icon--left">
         <ng-container [ngTemplateOutlet]="icon"></ng-container>
    </span>
  }

  @if (iconPosition === 'manual') {
    <ng-container [ngTemplateOutlet]="icon"></ng-container>
  }

  @if (loader) {
    @if (loader.isLoading()) {
      <ng-container [ngTemplateOutlet]="loader.template"></ng-container>
    }
    @if (!loader?.template && loader?.isLoading()) {
      <span [innerHTML]="loader?.safeHtml"></span>
    }
  }

  <ng-content></ng-content>
  {{ loader?.isLoading() }}

  @if (iconPosition === 'right') {
    <span class="v-icon v-icon--right">
       <ng-container [ngTemplateOutlet]="icon"></ng-container>
    </span>
  }
</div>
