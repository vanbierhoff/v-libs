<div class="button-wrapper"
     [class.button-wrapper--load]="loader?.isLoading()"
>

  @if (iconPosition === 'left') {
    <span class="v-icon v-icon--left">
         <ng-container [ngTemplateOutlet]="icon"></ng-container>
    </span>
  }

  @if (iconPosition === 'manual') {
    <ng-container [ngTemplateOutlet]="icon"></ng-container>
  }

  @if (loader) {
    @if (!loader?.template && loader?.isLoading()) {
      <div class="loader">
        <div [innerHTML]="loader?.safeHtml"></div>
      </div>
    }
    @if (loader.isLoading()) {
      <ng-container [ngTemplateOutlet]="loader.template"></ng-container>
    }

  }

  <ng-content></ng-content>

  @if (iconPosition === 'right') {
    <span class="v-icon v-icon--right">
       <ng-container [ngTemplateOutlet]="icon"></ng-container>
    </span>
  }
</div>

